(this["webpackJsonpneedleman-wunsch"]=this["webpackJsonpneedleman-wunsch"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(5),i=n.n(r),l=(n(12),n(1)),h=n(2),c=n(4),o=n(3),u=(n(13),n(14),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{id:"inputMain"},s.a.createElement("div",{id:"inputArea"},s.a.createElement("div",{className:"inputTable",id:"sequence"},s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"lhs: "),s.a.createElement("p",null,s.a.createElement("textarea",{id:"lhs",onFocus:function(e){e.target.placeholder=""}}))),s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"rhs: "),s.a.createElement("p",null,s.a.createElement("textarea",{id:"rhs",onFocus:function(e){e.target.placeholder=""}})))),s.a.createElement("div",{className:"inputTable",id:"score"},s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"match: "),s.a.createElement("p",null,s.a.createElement("input",{type:"number",defaultValue:n.defaultScores[0],id:"score0",onChange:this._handleScoreChange.bind(this)}))),s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"mismatch: "),s.a.createElement("p",null,s.a.createElement("input",{type:"number",defaultValue:n.defaultScores[1],id:"score1",onChange:this._handleScoreChange.bind(this)}))),s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"mid-open: "),s.a.createElement("p",null,s.a.createElement("input",{type:"number",defaultValue:n.defaultScores[2],id:"score2",onChange:this._handleScoreChange.bind(this)}))),s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"extension: "),s.a.createElement("p",null,s.a.createElement("input",{type:"number",defaultValue:n.defaultScores[3],id:"score3",onChange:this._handleScoreChange.bind(this)}))),s.a.createElement("div",{className:"tableRow"},s.a.createElement("p",null,"end-open: "),s.a.createElement("p",null,s.a.createElement("input",{type:"number",defaultValue:n.defaultScores[4],id:"score4",onChange:this._handleScoreChange.bind(this)}))))),s.a.createElement("div",{id:"inputButton"},s.a.createElement("p",null,s.a.createElement("button",{onClick:this._handleSubmit.bind(this)},"submit"),s.a.createElement("button",{onClick:this._hanldeClear.bind(this)},"clear"))))}},{key:"_handleScoreChange",value:function(){this._handleSubmit(null)}},{key:"_hanldeClear",value:function(e){document.getElementById("lhs").value="",document.getElementById("rhs").value="",document.getElementById("lhs").placeholder="",document.getElementById("rhs").placeholder="";for(var t=0;t<n.scoreNumber;++t)document.getElementById("score"+t).value=n.defaultScores[t].toString();this.props.onSubmitHandler("","",n.defaultScores)}},{key:"_handleSubmit",value:function(e){var t=!0,a=document.getElementById("lhs").value.trim();""===a&&(e&&(document.getElementById("lhs").placeholder="cannot be blank"),t=!1);var s=document.getElementById("rhs").value.trim();""===s&&(e&&(document.getElementById("rhs").placeholder="cannot be blank"),t=!1);for(var r=[],i=0;i<n.scoreNumber;++i){var l=document.getElementById("score"+i).value.trim(),h=Number(l);""===l||isNaN(h)?(r.push(n.defaultScores[i]),document.getElementById("score"+i).value=n.defaultScores[i].toString()):r.push(h)}t&&this.props.onSubmitHandler(a,s,r)}}]),n}(a.Component));u.defaultScores=[7,-3,-11,-2,-3],u.scoreNumber=5;var m=u,d=(n(15),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).mtrx=void 0,a.path=void 0,a.lhsSpaces=void 0,a.rhsSpaces=void 0,a.lhsResult=void 0,a.rhsResult=void 0,a.pathRecord=void 0,a.state={lhs:e.lhs,rhs:e.rhs,match:e.scores[0],mismatch:e.scores[1],midopen:e.scores[2],extension:e.scores[3],endopen:e.scores[4]},a.mtrx=a._matrixesInit(),a.path=a._matrixesInit(),a._matrInit(),a._pathInit(),a.lhsSpaces=new Array(a.state.lhs.length+1),a.rhsSpaces=new Array(a.state.rhs.length+1),a.lhsResult="",a.rhsResult="",a.pathRecord=[],a}return Object(h.a)(n,[{key:"_align",value:function(){this._dp(),this._traceBack(),this.lhsResult=this._insertSpaces(this.props.lhs,this.lhsSpaces),this.rhsResult=this._insertSpaces(this.props.rhs,this.rhsSpaces)}},{key:"_matrInit",value:function(){for(var e=0;e<=this.state.lhs.length;++e)this.mtrx[e][0][n.x]=this.state.endopen+e*this.state.extension,this.mtrx[e][0][n.y]=this.mtrx[e][0][n.z]=n.minusInfinity;for(var t=0;t<=this.state.rhs.length;++t)this.mtrx[0][t][n.x]=this.mtrx[0][t][n.z]=n.minusInfinity,this.mtrx[0][t][n.y]=this.state.endopen+t*this.state.extension;this.mtrx[0][0][n.z]=0}},{key:"_pathInit",value:function(){for(var e=1;e<=this.state.lhs.length;++e)this.path[e][0][n.x]=n.x;for(var t=1;t<=this.state.rhs.length;++t)this.path[0][t][n.y]=n.y}},{key:"_matrixesInit",value:function(){for(var e=Array(this.state.lhs.length+1),t=0;t<=this.state.lhs.length;++t){e[t]=new Array(this.state.rhs.length+1);for(var n=0;n<=this.state.rhs.length;++n)e[t][n]=[0,0,0]}return e}},{key:"_dp",value:function(){var e;this.mtrx=this._matrixesInit(),this.path=this._matrixesInit(),this._matrInit(),this._pathInit();for(var t=[0,0,0],a=1;a<=this.state.lhs.length;++a)for(var s=1;s<=this.state.rhs.length;++s){var r=a===this.state.lhs.length||s===this.state.rhs.length?this.state.endopen:this.state.midopen;t[n.x]=this.mtrx[a-1][s][n.x],t[n.y]=this.mtrx[a-1][s][n.y]+r,t[n.z]=this.mtrx[a-1][s][n.z]+r,e=this._indexOfMax(t),this.mtrx[a][s][n.x]=t[e]+this.state.extension,this.path[a][s][n.x]=e,t[n.x]=this.mtrx[a][s-1][n.x]+r,t[n.y]=this.mtrx[a][s-1][n.y],t[n.z]=this.mtrx[a][s-1][n.z]+r,e=this._indexOfMax(t),this.mtrx[a][s][n.y]=t[e]+this.state.extension,this.path[a][s][n.y]=e,t[n.x]=this.mtrx[a-1][s-1][n.x],t[n.y]=this.mtrx[a-1][s-1][n.y],t[n.z]=this.mtrx[a-1][s-1][n.z],e=this._indexOfMax(t),this.mtrx[a][s][n.z]=t[e]+this._score(a-1,s-1),this.path[a][s][n.z]=e}}},{key:"_traceBack",value:function(){this.lhsSpaces=new Array(this.state.lhs.length+1).fill(0),this.rhsSpaces=new Array(this.state.rhs.length+1).fill(0),this.pathRecord=[];var e=this.state.lhs.length,t=this.state.rhs.length,a=[this.mtrx[e][t][n.x],this.mtrx[e][t][n.y],this.mtrx[e][t][n.z]],s=this._indexOfMax(a);for(this.pathRecord.push([e,t,s]);e>0||t>0;){switch(s){case n.x:s=this.path[e--][t][s],++this.rhsSpaces[t];break;case n.y:s=this.path[e][t--][s],++this.lhsSpaces[e];break;case n.z:s=this.path[e--][t--][s]}this.pathRecord.push([e,t,s])}}},{key:"_score",value:function(e,t){return this.state.lhs.charAt(e)===this.state.rhs.charAt(t)?this.state.match:this.state.mismatch}},{key:"_indexOfMax",value:function(e){for(var t=0,n=1;n<e.length;++n)e[t]<e[n]&&(t=n);return t}},{key:"_insertSpaces",value:function(e,t){for(var n="",a=0;a<e.length;++a){for(var s=0;s<t[a];++s)n+="-";n+=e[a]}for(var r=0;r<t[e.length];++r)n+="-";return n}},{key:"render",value:function(){var e=this;this._align();return s.a.createElement("div",null,""!==e.state.lhs?s.a.createElement("div",{id:"result"},s.a.createElement("code",null,e.lhsResult),s.a.createElement("br",null),s.a.createElement("code",null,e.rhsResult)):s.a.createElement(s.a.Fragment,null),function(){if(""!==e.state.lhs){var t=e.pathRecord.length-1,n=function(n,a,s){var r=n===e.pathRecord[t][0]&&a===e.pathRecord[t][1]&&s===e.pathRecord[t][2];return r&&t>0&&--t,r};return s.a.createElement("section",{id:"matrix"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,function(){for(var t=[s.a.createElement("td",null),s.a.createElement("td",null)],n=0;n<e.state.rhs.length;++n)t.push(s.a.createElement("td",{className:"tableHead",id:"c"+(n+1)},e.state.rhs[n]));return t}()),e.mtrx.map((function(t,a){return s.a.createElement("tr",null,s.a.createElement("td",{className:"tableHead",id:"r"+a},0===a?"":e.state.lhs[a-1]),t.map((function(t,r){return s.a.createElement("td",{id:"r"+a+"c"+r,onMouseEnter:e._handleMatrixElementMouseEnter.bind(e,a,r),onMouseLeave:e._handleMatrixElementMouseLeave.bind(e,a,r)},t.map((function(t,i){return s.a.createElement("p",{className:n(a,r,i)?"path":"",id:"r"+a+"c"+r+"p"+i,onMouseEnter:e._handleInnerMatrixElementMouseEnter.bind(e,a,r,i),onMouseLeave:e._handleInnerMatrixElementMouseLeave.bind(e,a,r,i)},t===Number.NEGATIVE_INFINITY?"-\u221e":t)})))})))})))))}return s.a.createElement(s.a.Fragment,null)}(),s.a.createElement("div",{id:"tip",className:"tip-none"},s.a.createElement("p",null,"this is a tip")))}},{key:"_handleMatrixElementMouseEnter",value:function(e,t){e>0&&this._setHighlighted(this._getRowHeadElementById(e)),t>0&&this._setHighlighted(this._getColumnHeadElementById(t))}},{key:"_handleMatrixElementMouseLeave",value:function(e,t){e>0&&this._unsetHighlighted(this._getRowHeadElementById(e)),t>0&&this._unsetHighlighted(this._getColumnHeadElementById(t))}},{key:"_handleInnerMatrixElementMouseEnter",value:function(e,t,n,a){var s=function(e){var t=document.getElementById("tip");t.firstChild.innerHTML=e,t.className=a.clientX>document.body.clientWidth/2?"tip-left":"tip-right"};e>0&&t>0&&(this._setHighlighted(this._getInnerMatrixOrigin(e,t,n)),s(this._getMatchInfo(e,t,n))),0===e&&t>0&&1===n&&(this._setHighlighted(this._getInnerMatrixElementById(e,t-1,n)),s("extension "+this.state.extension)),e>0&&0===t&&0===n&&(this._setHighlighted(this._getInnerMatrixElementById(e-1,t,n)),s("extension "+this.state.extension)),0===e&&0===t&&(1===n&&s("endopen "+this.state.endopen),2===n&&s("beginning 0"))}},{key:"_getMatchInfo",value:function(e,t,a){return a===n.z?this.state.lhs.charAt(e-1)===this.state.rhs.charAt(t-1)?"match "+this.state.match:"mismatch "+this.state.mismatch:a===this.path[e][t][a]?"extension "+this.state.extension:e===this.state.lhs.length||t===this.state.rhs.length?"endopen "+(this.state.endopen+this.state.extension):"opengap "+(this.state.midopen+this.state.extension)}},{key:"_handleInnerMatrixElementMouseLeave",value:function(e,t,n){e>0&&t>0&&this._unsetHighlighted(this._getInnerMatrixOrigin(e,t,n)),0===e&&t>0&&1===n&&this._unsetHighlighted(this._getInnerMatrixElementById(e,t-1,n)),e>0&&0===t&&0===n&&this._unsetHighlighted(this._getInnerMatrixElementById(e-1,t,n)),document.getElementById("tip").className="tip-none"}},{key:"_setHighlighted",value:function(e){e.classList.add("highlighted")}},{key:"_unsetHighlighted",value:function(e){e.classList.remove("highlighted")}},{key:"_getInnerMatrixOrigin",value:function(e,t,a){switch(a){case n.x:return this._getInnerMatrixElementById(e-1,t,this.path[e][t][a]);case n.y:return this._getInnerMatrixElementById(e,t-1,this.path[e][t][a]);default:return this._getInnerMatrixElementById(e-1,t-1,this.path[e][t][a])}}},{key:"_getInnerMatrixElementById",value:function(e,t,n){return document.getElementById("r"+e+"c"+t+"p"+n)}},{key:"_getMatrixElementById",value:function(e,t){return document.getElementById("r"+e+"c"+t)}},{key:"_getRowHeadElementById",value:function(e){return document.getElementById("r"+e)}},{key:"_getColumnHeadElementById",value:function(e){return document.getElementById("c"+e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{lhs:e.lhs,rhs:e.rhs,match:e.scores[0],mismatch:e.scores[1],midopen:e.scores[2],extension:e.scores[3],endopen:e.scores[4]}}}]),n}(a.Component));d.x=0,d.y=1,d.z=2,d.minusInfinity=Number.NEGATIVE_INFINITY;var p=d,g=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={lhs:"",rhs:"",scores:[]},a}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(m,{onSubmitHandler:this._submit.bind(this)}),s.a.createElement(p,{lhs:this.state.lhs,rhs:this.state.rhs,scores:this.state.scores}))}},{key:"_submit",value:function(e,t,n){this.setState({lhs:e,rhs:t,scores:n})}}]),n}(a.Component),E=(n(16),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement("p",null,"author: ",s.a.createElement("a",{href:"http://lab.malab.cn/~cjn/"},"Chao Jiannan"))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),document.getElementById("content")),i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("footer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.5f7dcee3.chunk.js.map